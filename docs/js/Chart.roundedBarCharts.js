Chart.elements.Rectangle.prototype.draw=function(){function o(o){return m[(y+o)%4]}var t=this._chart.ctx,i=this._view,r,e,a,n,l,T,h,u,d=i.borderWidth,v=this._chart.config.options.cornerRadius,c=this._chart.config.options.fullCornerRadius,s=this._chart.config.type;if(v<0&&(v=0),void 0===v&&(v=0),void 0===c&&(c=!0),i.horizontal?(r=i.base,e=i.x,a=i.y-i.height/2,n=i.y+i.height/2,l=e>r?1:-1,T=1,h=i.borderSkipped||"left"):(r=i.x-i.width/2,e=i.x+i.width/2,a=i.y,n=i.base,l=1,T=n>a?1:-1,h=i.borderSkipped||"bottom"),d){var b=Math.min(Math.abs(r-e),Math.abs(a-n));d=d>b?b:d;var f=d/2,C=r+("left"!==h?f*l:0),q=e+("right"!==h?-f*l:0),p=a+("top"!==h?f*T:0),g=n+("bottom"!==h?-f*T:0);C!==q&&(a=p,n=g),p!==g&&(r=C,e=q)}t.beginPath(),t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=d;var m=[[r,n],[r,a],[e,a],[e,n]],M=["bottom","left","top","right"],y=M.indexOf(h,0);-1===y&&(y=0);var k=o(0);t.moveTo(k[0],k[1]);for(var x,_,w,S,R,z,W=1;W<4;W++){k=o(W),x=W+1,4==x&&(x=0),_=o(x),w=m[2][0]-m[1][0],S=m[0][1]-m[1][1],R=m[1][0],z=m[1][1];var u=v;u>Math.abs(S)/2&&(u=Math.floor(Math.abs(S)/2)),u>Math.abs(w)/2&&(u=Math.floor(Math.abs(w)/2));var B,O,P,j,A,D,E,F;S<0?(B=R,O=R+w,P=z+S,j=z+S,A=R,D=R+w,E=z,F=z,t.moveTo(A+u,E),t.lineTo(D-u,F),t.quadraticCurveTo(D,F,D,F-u),t.lineTo(O,j+u),c?t.quadraticCurveTo(O,j,O-u,j):t.lineTo(O,j,O-u,j),t.lineTo(B+u,P),c?t.quadraticCurveTo(B,P,B,P+u):t.lineTo(B,P,B,P+u),t.lineTo(A,E-u),t.quadraticCurveTo(A,E,A+u,E)):w<0?(B=R+w,O=R,P=z,j=z,A=R+w,D=R,E=z+S,F=z+S,t.moveTo(A+u,E),t.lineTo(D-u,F),c?t.quadraticCurveTo(D,F,D,F-u):t.lineTo(D,F,D,F-u),t.lineTo(O,j+u),c?t.quadraticCurveTo(O,j,O-u,j):t.lineTo(O,j,O-u,j),t.lineTo(B+u,P),t.quadraticCurveTo(B,P,B,P+u),t.lineTo(A,E-u),t.quadraticCurveTo(A,E,A+u,E)):(t.moveTo(R+u,z),t.lineTo(R+w-u,z),t.quadraticCurveTo(R+w,z,R+w,z+u),t.lineTo(R+w,z+S-u),c||"horizontalBar"==s?t.quadraticCurveTo(R+w,z+S,R+w-u,z+S):t.lineTo(R+w,z+S,R+w-u,z+S),t.lineTo(R+u,z+S),c?t.quadraticCurveTo(R,z+S,R,z+S-u):t.lineTo(R,z+S,R,z+S-u),t.lineTo(R,z+u),c||"bar"==s?t.quadraticCurveTo(R,z,R+u,z):t.lineTo(R,z,R+u,z))}t.fill(),d&&t.stroke()};